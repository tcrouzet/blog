<!DOCTYPE html><html lang="fr" xmlns="http:/www.w3.org/1999/xhtml" xmlns:og="http:/opengraphprotocol.org/schema/" xmlns:fb="http:/www.facebook.com/2008/fbml"><head profile="http:/gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="shortcut icon" href="../../../../favicon.ico" ><style>/*
Theme Name: Ultra Static 1
Theme URI: http:/wordpress.org/
Description: Thierry Crouzet
Version:1.0
Author: Thierry Crouzet
Author URI: http:/tcrouzet.com
*/
body { font-family: Helvetica, Arial, sans-serif; font-size: 1.25rem; font-weight: normal; color: #1A1C18; text-align: left; background-color: #f2f4f8; width: 60ch; margin:0 auto; line-height: calc(1ex / 0.32); font-variant-ligatures:common-ligatures; text-rendering: optimizeLegibility; text-size-adjust: 100%; }
/*a,a:visited,a:hover{color:inherit;text-decoration:none}*/
h2 a,h2 a:visited,h2 a:hover{color:inherit;text-decoration:none}
h4 a,h4 a:visited,h4 a:hover{color:inherit;text-decoration:none}
h4{margin:1rem 0}
h1{line-height: normal;}
p{ text-align:justify; hyphens: auto;
}
img{max-width: 60ch;width:100%;height: auto;}
iframe{max-width: 60ch;width:100%}</style><meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' /><title>Optimiser les cartes des GPS Garmin</title><link rel="canonical" href="https:/tcrouzet.com/2020/10/23/optimiser-les-cartes-des-gps-garmin/" /><meta property="og:locale" content="fr_FR" /><meta property="og:type" content="article" /><meta property="og:title" content="Optimiser les cartes des GPS Garmin" /><meta property="og:description" content="J&rsquo;utilise un GPS pour suivre des traces, que ce soit en bikepacking, ou lors de randonn&eacute;es organis&eacute;es par des tiers, ou m&ecirc;me lorsque je trace mes propres parcours. Mon probl&egrave;me&nbsp;: la plupart des cartes disponibles pour Garmin sont surcharg&eacute;es d&rsquo;informations et de couleurs, et la trace se confond souvent avec elles, surtout en plein soleil, [&hellip;]" /><meta property="og:url" content="/2020/10/23/optimiser-les-cartes-des-gps-garmin/" /><meta property="og:site_name" content="Thierry Crouzet" /><meta property="article:publisher" content="https:/www.facebook.com/ThierryCrouzetAuteur/" /><meta property="article:author" content="https:/www.facebook.com/ThierryCrouzetAuteur/" /><meta property="article:published_time" content="2020-10-23T15:32:32+00:00" /><meta property="article:modified_time" content="2021-01-14T16:29:02+00:00" /><meta property="og:image" content="../../../../images_tc/2020/10/mapcode.jpg" /><meta property="og:image:width" content="1600" /><meta property="og:image:height" content="1000" /><meta property="og:image:type" content="image/jpeg" /><meta name="author" content="Thierry Crouzet" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:creator" content="@https:/twitter.com/crouzet" /><meta name="twitter:site" content="@crouzet" /></head><body><h2><a href="../../../../blog/index.html" title="Blog" alt="Blog">Thierry <b>CROUZET</b></a></span></h2><img width="768" height="480" src="../../../../images_tc/2020/10/mapcode-768x480.jpg" class="attachment-medium size-medium" alt="Faut entrer dans le code" decoding="async" loading="lazy" srcset="../../../../images_tc/2020/10/mapcode-768x480.jpg 768w, ../../../../images_tc/2020/10/mapcode-1024x640.jpg 1024w, ../../../../images_tc/2020/10/mapcode-250x156.jpg 250w, ../../../../images_tc/2020/10/mapcode.jpg 1600w" sizes="(max-width: 768px) 100vw, 768px" /><h1 itemprop="headline">Optimiser les cartes des GPS Garmin</h1><!DOCTYPE html PUBLIC "-/W3C/DTD HTML 4.0 Transitional/EN" "http:/www.w3.org/TR/REC-html40/loose.dtd"><?xml version="1.0" encoding="UTF-8"?><html><body><p>J&rsquo;utilise un GPS pour suivre des traces, que ce soit en bikepacking, ou lors de randonn&eacute;es organis&eacute;es par des tiers, ou m&ecirc;me lorsque je trace mes propres parcours. Mon probl&egrave;me&nbsp;: la plupart des cartes disponibles pour Garmin sont surcharg&eacute;es d&rsquo;informations et de couleurs, et la trace se confond souvent avec elles, surtout en plein soleil, et la suivre devient alors difficile. J&rsquo;ai donc d&eacute;cid&eacute; de cr&eacute;er une carte optimis&eacute;e.<span id="more-55815"></span></p><h3>Rendu avec carte Garmin</h3><p><a href="images_tc/2020/10/newmap-garmin.jpg"><img width="250" height="171" src="../../../../images_tc/2020/10/newmap-garmin-250x171.jpg" class="alignnone size-full wp-image-55817 paysage" alt="Rendu Garmin" decoding="async" loading="lazy" srcset="../../../../images_tc/2020/10/newmap-garmin-250x171.jpg 250w, ../../../../images_tc/2020/10/newmap-garmin-768x525.jpg 768w, ../../../../images_tc/2020/10/newmap-garmin-1024x700.jpg 1024w, ../../../../images_tc/2020/10/newmap-garmin.jpg 1600w" sizes="(max-width: 250px) 100vw, 250px"></a></p><p>Selon moi, la carte fournie par Garmin est trop color&eacute;e pour le suivi de trace (ce serait possible si Garmin offrait la possibilit&eacute; de calibrer la taille de la trace, ce qui n&rsquo;est pas le cas sur mon nouveau 530 et ne l&rsquo;&eacute;tait pas davantage sur mon 820). On ne peut que changer la couleur de la trace (et cela fastidieusement au coup par coup). Notez que la capture d&rsquo;&eacute;cran effectu&eacute;e sur BaseCamp est tr&egrave;s flatteuse.</p><h3>Rendu avec carte OSM new style</h3><p><a href="images_tc/2020/10/newmap-newstyle.jpg"><img width="250" height="171" src="../../../../images_tc/2020/10/newmap-newstyle-250x171.jpg" class="alignnone size-full wp-image-55818 paysage" alt="Rendu OSM new style" decoding="async" loading="lazy" srcset="../../../../images_tc/2020/10/newmap-newstyle-250x171.jpg 250w, ../../../../images_tc/2020/10/newmap-newstyle-768x525.jpg 768w, ../../../../images_tc/2020/10/newmap-newstyle-1024x700.jpg 1024w, ../../../../images_tc/2020/10/newmap-newstyle.jpg 1600w" sizes="(max-width: 250px) 100vw, 250px"></a></p><p>Jusqu&rsquo;alors ma favorite, <a href="http:/garmin.openstreetmap.nl/">la version OSM t&eacute;l&eacute;chargeable gratuitement</a> reste quelque peu baroque, avec notamment des routes souvent color&eacute;es.</p><h3>Rendu avec ma carte</h3><p><a href="images_tc/2020/10/newmap-minimalist.jpg"><img width="250" height="171" src="../../../../images_tc/2020/10/newmap-minimalist-250x171.jpg" class="alignnone size-full wp-image-55819 paysage" alt="Rendu OSM minimaliste" decoding="async" loading="lazy" srcset="../../../../images_tc/2020/10/newmap-minimalist-250x171.jpg 250w, ../../../../images_tc/2020/10/newmap-minimalist-768x525.jpg 768w, ../../../../images_tc/2020/10/newmap-minimalist-1024x700.jpg 1024w, ../../../../images_tc/2020/10/newmap-minimalist.jpg 1600w" sizes="(max-width: 250px) 100vw, 250px"></a></p><p>J&rsquo;ai donc cr&eacute;&eacute; une trace OSM minimaliste, sans POI, sans texte, sans couleur ou presque. Au passage, j&rsquo;ai fait passer le fichier France de 1,6&nbsp;Go &agrave; 320&nbsp;Mo, tout en incluant les donn&eacute;es altim&eacute;triques.</p><p><a href="https:/mega.nz/file/19FliI6a#sCYLfnpTCWx99PMWHVEUaq-IARhWUgK21BnswbvXXjQ">Vous pouvez t&eacute;l&eacute;charger la carte</a> (je ne vous garantis pas de la mettre &agrave; jour souvent). Pour l&rsquo;installer, copiez le fichier dans le dossier Garmin de votre GPS. Si une carte du m&ecirc;me nom existe, renommez-l&agrave;. Il vous reste &agrave; dire au GPS d&rsquo;utiliser de pr&eacute;f&eacute;rence la nouvelle carte (ce qui revient &agrave; d&eacute;sactiver les autres). Attention, cette carte n&rsquo;est pas routable et ne sert que lors du suivi de traces (sur les nouveaux Garmin on peut cr&eacute;er des profils avec des cartes diff&eacute;rentes).</p><h3>Rendu avec carte IGN</h3><p><a href="images_tc/2020/10/newmap-ign.jpg"><img width="250" height="171" src="../../../../images_tc/2020/10/newmap-ign-250x171.jpg" class="alignnone size-full wp-image-55820 paysage" alt="Rendu IGN" decoding="async" loading="lazy" srcset="../../../../images_tc/2020/10/newmap-ign-250x171.jpg 250w, ../../../../images_tc/2020/10/newmap-ign-768x525.jpg 768w, ../../../../images_tc/2020/10/newmap-ign-1024x700.jpg 1024w, ../../../../images_tc/2020/10/newmap-ign.jpg 1600w" sizes="(max-width: 250px) 100vw, 250px"></a></p><p>Sur le Garmin 820, je n&rsquo;utilisais pas l&rsquo;IGN parce que l&rsquo;affichage se tra&icirc;nait tout en manquant de pr&eacute;cision. Avec le 530, c&rsquo;est nettement plus fluide et le contraste de la trace est bien meilleur que sur les cartes Garmin ou OSM. C&rsquo;est une alternative on&eacute;reuse &agrave; mon bricolage.</p><h3>Geek only</h3><p>Je r&eacute;sume comment je m&rsquo;y suis pris pour fabriquer cette carte, tout en faisant hurler le Mac (la m&ecirc;me manip marche sous Windows).</p><ol><li><a href="https:/www.java.com/fr/download/">Installer Java</a>.</li><li><a href="https:/www.oracle.com/java/technologies/javase-jdk15-downloads.html">Installer Java SE Development Kit</a>.</li><li>Cr&eacute;er un dossier de travail (dans mon cas <em>/Users/thierrycrouzet/Documents/GarminMaps/tools/</em>).</li><li><a href="https:/download.geofabrik.de/europe/france.html">T&eacute;l&eacute;charger dans le dossier <em>tools</em> la derni&egrave;re source OSM pour France</a> (<a href="http:/download.openstreetmap.fr/extracts/europe/">possibilit&eacute; de t&eacute;l&eacute;charger les r&eacute;gions, les d&eacute;partements, d&rsquo;autres pays&hellip;</a>). Ce fichier a pour nom&nbsp;: <em>france-latest.osm.pbf</em>.</li><li><a href="http:/www.mkgmap.org.uk/download/splitter.html">T&eacute;l&eacute;charger Splitter</a>, un logiciel qui d&eacute;coupera la carte OSM pour que le Mac puisse la dig&eacute;rer. </li><li><a href="http:/www.mkgmap.org.uk/download/mkgmap.html">T&eacute;l&eacute;charger Mkgmap</a>, un logiciel qui recollera les bouts et cr&eacute;era une carte au format Garmin.</li><li><a href="https:/mega.nz/file/RplyUa7L#DZtAnF6QgfrxCWEquqLv0rAyeDAopUPBH-De1C_xscY">T&eacute;l&eacute;charger les styles de la nouvelle carte</a> (voil&agrave; qui m&rsquo;a pris la t&ecirc;te et je suis loin d&rsquo;&ecirc;tre devenu un expert du sujet). Reste pas mal de boulot &agrave; faire pour cr&eacute;er la carte optimale.</li><li>D&eacute;compresser le dossier <em>mystyle</em>. Il contient les fichiers texte qui contr&ocirc;lent le rendu de la carte.</li><li>Ouvrir le terminal et aller dans <em>tools</em> avec un <em>cd /Users/thierrycrouzet/Documents/GarminMaps/tools/</em>.</li><li>Ex&eacute;cuter Spliter avec <em>java -Xmx3000m -jar splitter/splitter.jar --max-nodes=1100000 france-latest.osm.pbf --output-dir=outputsplit</em>. &Ccedil;a prend un bon moment.</li><li>Ex&eacute;cuter Mkgmap avec <em>java -Xmx3000m -jar mkgmap/mkgmap.jar --style-file=mystyle --output-dir=output --no-net --product-id=1 --overview-mapname=&rdquo;OSM minimalist&rdquo; --family-name=&rdquo;OSM minimalist&rdquo; --series-name=&rdquo;OSM minimalist&rdquo; --description=&rdquo;OSM minimalist&rdquo; --area-name=&rdquo;OSM minimalist&rdquo; --gmapsupp -c outputsplit/template.args</em>. C&rsquo;est reparti pour au moins aussi longtemps.</li><li>La carte <em>gmapsupp.img</em> se retrouve dans le dossier <em>output</em>.</li><li>J&rsquo;ai d&ucirc; picorer des infos <a href="https:/wiki.openstreetmap.org/wiki/FR:Mkgmap">ici</a> et <a href="https:/github.com/ligfietser/mkgmap-style-sheets">l&agrave;</a> ou encore <a href="https:/www.cferrero.net/maps/guide_to_mkgmap_style_files.html">l&agrave;</a> avant de m&rsquo;en sortir, et aussi en t&acirc;tonnant beaucoup.</li></ol></body></html><p></p><div class="sharebas pageGutter"><div class="sharemain"><div class="share" id="share55815"><div class="crunchify-social"><a class="icon_com icon" href="../../../../mail/index.html" target="_blank"></a><a class="icon_twitter icon" href="https:/twitter.com/intent/tweet?text=Optimiser+les+cartes+des+GPS+Garmin&amp;url=http%3A%2F%2Flocalhost%3A8888%2F2020%2F10%2F23%2Foptimiser-les-cartes-des-gps-garmin%2F&amp;via=tcrouzet" target="_blank"></a><a class="icon_fb icon" href="https:/www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A8888%2F2020%2F10%2F23%2Foptimiser-les-cartes-des-gps-garmin%2F" target="_blank"></a><a class="icon_linkedin icon" href="https:/www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A8888%2F2020%2F10%2F23%2Foptimiser-les-cartes-des-gps-garmin%2F&amp;title=Optimiser+les+cartes+des+GPS+Garmin" target="_blank"></a></div></div></div></div><h4><a href="../../../../2020/10/20/mini-aventure-gravel-de-la-nuit-a-la-nuit/index.html">&lt; </a><a href="../../../../tag/borntobike/index.html">Born to Bike 71</a> ● <span itemprop="datePublished" content="2020-10-23T17:32:00" title="Publié à 17:32"> <a href="../../../../2020/10/index.html">23 octobre</a> <a href="../../../../2020/index.html">2020</a></span><a href="../../../../2020/11/02/une-journee-volee-pour-vivre/index.html"> &gt;</a></h4></body></html>