<article itemscope itemtype=https://schema.org/BlogPosting><header><figure><img width=1600 height=1200 src=/images_tc/2021/10/map721.webp class="poster-img poster-img-full" alt="Le i727" loading=lazy decoding=async srcset="/images_tc/2021/10/map721.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px"><figcaption>Le i727</figcaption></figure><h1 itemprop=headline>Garmin : au-delà de 8000 points, votre trace n'est plus valable</h1><nav><a href=/2021/08/30/bikepacking-sur-la-geobike-ressusciter-une-trace-mythique/ class=prev rel=prev>&lt; </a><a href=/tag/borntobike itemprop=articleSection>Vélo 97</a> ● <a href=/2021/ ><time datetime=2021-10-03T10:43:00 title="Publié à 10:43">03 octobre 2021</time></a><a href=/2021/10/12/bikepacking-dans-lautomne-flamboyant-du-midi/ class=next rel=next> &gt;</a></nav></header><section itemprop=articleBody><p>Si comme moi vous roulez des traces créées avec <a href=https://www.garmin.com/fr-FR/software/basecamp/ rel="noopener noreferrer">Garmin BaseCamp</a>, l’outil de dessin le plus puissant à notre disposition, bien plus performant que les services en ligne, vous êtes peut-être tombés sur un bug des plus ennuyeux, parce qu’il survient sur le terrain, une fois bien engagé sur la trace.</p><p>J’ai découvert le problème peu de temps <a href=/2020/10/16/pourquoi-jai-rachete-gps-garmin/ >après avoir troqué mon Garmin 820 contre un 530</a>. Lors d’une sortie, après une vingtaine de kilomètres, ma trace manquait de précision, des secteurs entiers étaient remplacés par des lignes droites. Une amie qui roulait avec un 1030 avait le même problème, pendant que tout fonctionnait normalement avec les Wahoo.</p><p>J’ai cru à un bug intermittent, puis il s’est répété plusieurs fois, j’ai fini par constater qu’il était fréquent, souvent assez insignifiant pour ne pas trop me déranger. Je ne décide de comprendre cette affaire qu’à la veille de m’engager avec les copains dans une <a href=https://tcrouzet.com/i727>i727</a>.</p><p>Quelques recherches en ligne me font tomber sur une note, <a href="https://support.garmin.com/en-US/?faq=ZWxU2CxR7d4U7adcx1RDJ8" rel="noopener noreferrer">selon laquelle des points peuvent manquer quand on crée une trace routière avec une carte et l’envoie vers un GPS équipé d’une autre carte</a>. Pour le vélo, surtout le VTT, c’est absurde, parce qu’une trace GPX est une liste de coordonnées GPS, sans aucun lien avec la carte. On doit pouvoir rouler partout, même sur l’eau. Reste que mon problème n’est pas isolé, les traces peuvent perdre des points, parfois beaucoup trop de points.</p><h3>Premier bug</h3><figure><img alt="Test de la validité d’une trace" class=small decoding=async height=722 loading=lazy sizes="(max-width: 1600px) 100vw, 1600px" src=/images_tc/2021/10/gbug-1.png srcset="/images_tc/2021/10/gbug-1.png 1600w, /images_tc/2021/10/gbug-1.png 1024w, /images_tc/2021/10/gbug-1.png 250w" width=1036><figcaption class="legend legend-center">Test de la validité d’une trace</figcaption></figure><p>Pour tester si une trace générée par BaseCamp est valide ou non, j’ai initialement pensé avoir découvert une méthode : je l’enregistrais en GPX et tentais de la charger dans <a href=https://connect.garmin.com/modern/import-data rel="noopener noreferrer">Garmin Connect</a>. En cas de refus, je supposais que, si j’envoyais directement sur le GPS cette trace, j’aurai des problèmes. À noter que Garmin Connect peut refuser une trace, mais pas mon 530.</p><p>En revanche, si je publie ma trace sur <a href=https://www.openrunner.com/ rel="noopener noreferrer">OpernRunner</a>, la télécharge, puis la charge sur Garmin Connect, je n’ai aucun problème. De toute évidence OpernRunner corrige quelque chose dans la trace (mais pas <a href=https://www.calculitineraires.fr/ rel="noopener noreferrer">Calculitineraires</a>, <a href=https://www.gpsvisualizer.com/convert_input rel="noopener noreferrer">GPSVisualizer</a>, <a href=https://www.visugpx.com/ rel="noopener noreferrer">VisuGPX</a>, <a href=https://fr-fr.gps-viewer.com/ rel="noopener noreferrer">GPSviewer</a>, <a href=https://www.alltrails.com/fr/converter/ rel="noopener noreferrer">AllTrails</a>, Strava ou UtagawavVTT).</p><p>Pourquoi est-ce que ça marche avec OpenRunner et pas avec la plupart des autres applications ? J’ai dû plonger dans le XML des fichiers GPS pour comprendre. OpenRunner horodate les traces, c’est-à-dire qu’il leur ajoute des temps de passages aux différents points, même s’il n’en existe pas sur la trace originale. Garmin Connect a donc besoin de fichiers horodatés (et, sauf erreur, BaseCamp ne sait pas en produire). Mais voilà qui n’explique pas la disparition des points.</p><h3>Second bug</h3><p>Sur l’i727, j’ai constaté que ma trace, bien que validée par Garmin Connect, continuait à prendre quelques liberté avec mon tracé. Une fois de retour, j’ai chargé plusieurs versions de la trace sur mon 530 et j’ai comparé leur rendu sur le terrain.</p><figure><img alt="Une trace, des rendus variables" class=small decoding=async height=429 loading=lazy sizes="(max-width: 1600px) 100vw, 1600px" src=/images_tc/2021/10/tracesbug.webp srcset="/images_tc/2021/10/tracesbug.webp 1600w, /images_tc/2021/10/tracesbug.webp 1024w, /images_tc/2021/10/tracesbug.webp 250w" width=1035><figcaption class="legend legend-center">Une trace, des rendus variables</figcaption></figure><p>L’image ci-dessus montre le fichier source sur fond IGN tel que visualisé sur BaseCamp, puis son rendu sur le Garmin, dans le premier cas relativement fidèle quand la trace a été récupérée sur OpenRunner, dans le second très approximative quand elle passe par les autres services ou même provient directement de BaseCamp.</p><p>J’ai ouvert les fichiers GPX pour les analyser. Si la source comporte 12 323 points sur BaseCamp, le fichier OpenRunner n’en comporte que 9 325 ! Voilà déjà qui explique pourquoi le tracé OpenRunner est moins précis que l’original. Problème, les autres fichiers comportent davantage de points tout en étant moins précis.</p><p>Et si, au-delà d’un certain nombre de points, les GPS Garmin simplifiaient la trace sans avertir l’utilisateur ? Je suis retourné sur le terrain avec la trace de l’i727 grandement raccourcie, et là, miracle, le rendu était parfait. Le problème n’est donc pas une question d’horodatage, mais d’un nombre de points au-delà duquel le Garmin filtre la trace, un peu au petit bonheur.</p><figure><img alt="Dégradation de la trace" class=small decoding=async height=322 loading=lazy sizes="(max-width: 1600px) 100vw, 1600px" src=/images_tc/2021/10/points-1.webp srcset="/images_tc/2021/10/points-1.webp 1600w, /images_tc/2021/10/points-1.webp 1024w, /images_tc/2021/10/points-1.webp 250w" width=745><figcaption class="legend legend-center">Dégradation de la trace</figcaption></figure><p>L’image ci-dessus montre comment la trace se dégrade quand le nombre de points augmente. D’après mes estimations, sur mon Edge 530, la zone de filtrage survient au-dessus des 8 000 points, même si Garmin Connect accepte des fichiers <a href="https://support.garmin.com/en-US/?faq=EWm0A6dgWu2OTV4bVYXWK6" rel="noopener noreferrer">allant jusqu’à 99 999 points</a>.</p><p>Moralité il faut découper les traces pour que les GPS Garmin les affichent correctement alors que les Wahoo s’en tirent parfaitement dans tous les cas. Si sur route le filtrage cause rarement des problèmes, il devient pénible dans les secteurs VTT avec beaucoup de singles, ce qui entraîne sans cesse des hésitations, surtout en bikepacking. <a href=https://bikepacking.000webhostapp.com/gpx/ rel="noopener noreferrer">Je me suis donc bricolé une petite appli pour découper automatiquement mes traces.</a></p></section><footer><section><button class=icon_com onclick="showComments('com2180')" title=Commenter aria-label="Afficher les commentaires"></button><button class=icon_share onclick=copyText() title=Partager aria-label="Partager l'article"></button><a class=icon_download href=https://raw.githubusercontent.com/tcrouzet/md/refs/heads/main/2021/10/quand-la-trace-perd-des-points-sur-les-gps-garmin.md download title=Télécharger aria-label="Télécharger en Markdown"></a><a class=icon_friends href=/page/lectures/ title="Sites amis" aria-label="Afficher les sites amis"></a></section><div class=comments id=com2180 data-post-url=2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin/ data-post-title="Garmin : au-delà de 8000 points, votre trace n'est plus valable" data-post-date=2021-10-03T10:43:00+02:00 hidden></div><div><a href=/page/abonnement-par-mail/ ><svg width=24 height=18 viewbox="0 0 24 18" fill=none xmlns=http://www.w3.org/2000/svg><path d="M21.75 1.5H2.25c-.828 0-1.5.672-1.5 1.5v12c0 .828.672 1.5 1.5 1.5h19.5c.828 0 1.5-.672 1.5-1.5V3c0-.828-.672-1.5-1.5-1.5zM15.687 6.975L19.5 10.5M8.313 6.975L4.5 10.5" stroke=#fff stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path><path d="M22.88 2.014l-9.513 6.56C12.965 8.851 12.488 9 12 9s-.965-.149-1.367-.426L1.12 2.014" stroke=#fff stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></svg> Newsletters </a><a href=/page/me-soutenir/ class=link-background> Me soutenir </a></div></footer></article><div id=loadMore next-url=/2021/08/30/bikepacking-sur-la-geobike-ressusciter-une-trace-mythique/ hidden></div>