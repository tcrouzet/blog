<article id=article-2091 itemscope itemtype=https://schema.org/BlogPosting itemprop=mainEntity><meta itemprop=articleSection content=velo><meta itemprop=name content=Article><meta itemprop=inLanguage content=fr-FR><meta itemprop=author content="Thierry Crouzet"><meta itemprop=accountablePerson content="Thierry Crouzet"><meta itemprop=datePublished content=2021-10-03T10:43:00+02:00><meta itemprop=dateModified content=2024-05-01T09:19:26+02:00><meta content=https://tcrouzet.com/2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin/ itemprop=url><figure class=poster><img width=1600 height=1200 src=/images_tc/2021/10/map721.webp class="poster-img poster-img-full" alt loading=lazy decoding=async srcset="/images_tc/2021/10/map721.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px"><figcaption class="legend legend-poster legend-right">Le i727</figcaption></figure><h1 itemprop=headline id=title2091> Garmin : au-delà de 8000 points, votre trace n'est plus valable </h1><nav><a href=/2021/08/30/bikepacking-sur-la-geobike-ressusciter-une-trace-mythique/ class=prev>&lt; </a><a href=/tag/borntobike>Vélo 97</a> ● <a href=/2021/ itemprop=datePublished content=2021-10-03T10:43:00 title="Publié à 10:43">03 octobre 2021</a><a href=/2021/10/12/bikepacking-dans-lautomne-flamboyant-du-midi/ class=next> &gt;</a></nav><div class="post hentry" itemprop=articleBody id=post-2091><p>Si comme moi vous roulez des traces créées avec <a href=https://www.garmin.com/fr-FR/software/basecamp/ >Garmin BaseCamp</a>, l’outil de dessin le plus puissant à notre disposition, bien plus performant que les services en ligne, vous êtes peut-être tombés sur un bug des plus ennuyeux, parce qu’il survient sur le terrain, une fois bien engagé sur la trace.</p><p>J’ai découvert le problème peu de temps <a href=/2020/10/16/pourquoi-jai-rachete-gps-garmin/ >après avoir troqué mon Garmin 820 contre un 530</a>. Lors d’une sortie, après une vingtaine de kilomètres, ma trace manquait de précision, des secteurs entiers étaient remplacés par des lignes droites. Une amie qui roulait avec un 1030 avait le même problème, pendant que tout fonctionnait normalement avec les Wahoo.</p><p>J’ai cru à un bug intermittent, puis il s’est répété plusieurs fois, j’ai fini par constater qu’il était fréquent, souvent assez insignifiant pour ne pas trop me déranger. Je ne décide de comprendre cette affaire qu’à la veille de m’engager avec les copains dans une <a href=https://tcrouzet.com/i727>i727</a>.</p><p>Quelques recherches en ligne me font tomber sur une note, <a href="https://support.garmin.com/en-US/?faq=ZWxU2CxR7d4U7adcx1RDJ8">selon laquelle des points peuvent manquer quand on crée une trace routière avec une carte et l’envoie vers un GPS équipé d’une autre carte</a>. Pour le vélo, surtout le VTT, c’est absurde, parce qu’une trace GPX est une liste de coordonnées GPS, sans aucun lien avec la carte. On doit pouvoir rouler partout, même sur l’eau. Reste que mon problème n’est pas isolé, les traces peuvent perdre des points, parfois beaucoup trop de points.</p><h3>Premier bug</h3><figure class=image id=image-2091-1><img alt="Test de la validité d’une trace" class="paysage small" decoding=async height=722 loading=lazy sizes="(max-width: 1600px) 100vw, 1600px" src=/images_tc/2021/10/gbug-1.png srcset="/images_tc/2021/10/gbug-1.png 1600w, /images_tc/2021/10/gbug-1.png 1024w, /images_tc/2021/10/gbug-1.png 250w" width=1036><figcaption class="legend legend-center">Test de la validité d’une trace</figcaption></figure><p>Pour tester si une trace générée par BaseCamp est valide ou non, j’ai initialement pensé avoir découvert une méthode : je l’enregistrais en GPX et tentais de la charger dans <a href=https://connect.garmin.com/modern/import-data>Garmin Connect</a>. En cas de refus, je supposais que, si j’envoyais directement sur le GPS cette trace, j’aurai des problèmes. À noter que Garmin Connect peut refuser une trace, mais pas mon 530.</p><p>En revanche, si je publie ma trace sur <a href=https://www.openrunner.com/ >OpernRunner</a>, la télécharge, puis la charge sur Garmin Connect, je n’ai aucun problème. De toute évidence OpernRunner corrige quelque chose dans la trace (mais pas <a href=https://www.calculitineraires.fr/ >Calculitineraires</a>, <a href=https://www.gpsvisualizer.com/convert_input>GPSVisualizer</a>, <a href=https://www.visugpx.com/ >VisuGPX</a>, <a href=https://fr-fr.gps-viewer.com/ >GPSviewer</a>, <a href=https://www.alltrails.com/fr/converter/ >AllTrails</a>, Strava ou UtagawavVTT).</p><p>Pourquoi est-ce que ça marche avec OpenRunner et pas avec la plupart des autres applications ? J’ai dû plonger dans le XML des fichiers GPS pour comprendre. OpenRunner horodate les traces, c’est-à-dire qu’il leur ajoute des temps de passages aux différents points, même s’il n’en existe pas sur la trace originale. Garmin Connect a donc besoin de fichiers horodatés (et, sauf erreur, BaseCamp ne sait pas en produire). Mais voilà qui n’explique pas la disparition des points.</p><h3>Second bug</h3><p>Sur l’i727, j’ai constaté que ma trace, bien que validée par Garmin Connect, continuait à prendre quelques liberté avec mon tracé. Une fois de retour, j’ai chargé plusieurs versions de la trace sur mon 530 et j’ai comparé leur rendu sur le terrain.</p><figure class=image id=image-2091-2><img alt="Une trace, des rendus variables" class="paysage small" decoding=async height=429 loading=lazy sizes="(max-width: 1600px) 100vw, 1600px" src=/images_tc/2021/10/tracesbug.webp srcset="/images_tc/2021/10/tracesbug.webp 1600w, /images_tc/2021/10/tracesbug.webp 1024w, /images_tc/2021/10/tracesbug.webp 250w" width=1035><figcaption class="legend legend-center">Une trace, des rendus variables</figcaption></figure><p>L’image ci-dessus montre le fichier source sur fond IGN tel que visualisé sur BaseCamp, puis son rendu sur le Garmin, dans le premier cas relativement fidèle quand la trace a été récupérée sur OpenRunner, dans le second très approximative quand elle passe par les autres services ou même provient directement de BaseCamp.</p><p>J’ai ouvert les fichiers GPX pour les analyser. Si la source comporte 12 323 points sur BaseCamp, le fichier OpenRunner n’en comporte que 9 325 ! Voilà déjà qui explique pourquoi le tracé OpenRunner est moins précis que l’original. Problème, les autres fichiers comportent davantage de points tout en étant moins précis.</p><p>Et si, au-delà d’un certain nombre de points, les GPS Garmin simplifiaient la trace sans avertir l’utilisateur ? Je suis retourné sur le terrain avec la trace de l’i727 grandement raccourcie, et là, miracle, le rendu était parfait. Le problème n’est donc pas une question d’horodatage, mais d’un nombre de points au-delà duquel le Garmin filtre la trace, un peu au petit bonheur.</p><figure class=image id=image-2091-3><img alt="Dégradation de la trace" class="paysage small" decoding=async height=322 loading=lazy sizes="(max-width: 1600px) 100vw, 1600px" src=/images_tc/2021/10/points-1.webp srcset="/images_tc/2021/10/points-1.webp 1600w, /images_tc/2021/10/points-1.webp 1024w, /images_tc/2021/10/points-1.webp 250w" width=745><figcaption class="legend legend-center">Dégradation de la trace</figcaption></figure><p>L’image ci-dessus montre comment la trace se dégrade quand le nombre de points augmente. D’après mes estimations, sur mon Edge 530, la zone de filtrage survient au-dessus des 8 000 points, même si Garmin Connect accepte des fichiers <a href="https://support.garmin.com/en-US/?faq=EWm0A6dgWu2OTV4bVYXWK6">allant jusqu’à 99 999 points</a>.</p><p>Moralité il faut découper les traces pour que les GPS Garmin les affichent correctement alors que les Wahoo s’en tirent parfaitement dans tous les cas. Si sur route le filtrage cause rarement des problèmes, il devient pénible dans les secteurs VTT avec beaucoup de singles, ce qui entraîne sans cesse des hésitations, surtout en bikepacking. <a href=https://bikepacking.000webhostapp.com/gpx/ >Je me suis donc bricolé une petite appli pour découper automatiquement mes traces.</a></p><div class=share><div class=social><a class="icon_com icon" href=javascript:void(0); onclick=showComments(this) title=Commenter><span class=count>&nbsp;&nbsp;</span></a><a class="icon_share icon" href=javascript:void(0); onclick=copyText() title=Partager></a></div><div class=plus>&bull;&bull;&bull; <ul><li><a href="http://www.printfriendly.com/print?url=https://tcrouzet.com/2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin/&partner=sociable">Imprime le billet/PDF</a></li><li><a href="https://tcrouzet-com.translate.goog/2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin//?_x_tr_sl=fr&_x_tr_tl=en&_x_tr_hl=fr&_x_tr_pto=wapp">Version EN/US</a></li><li>Tags : <a href=/tag/borntobike>Vélo </a> <a href=/tag/gps>Gps </a> </li><li><a href=http://creativecommons.org/licenses/by-nc-sa/4.0/deed.fr class=footertitre>(cc)</a>&#8239;<a href=/page/informations/ >Thierry&#8239;Crouzet</a></li></ul></div></div><div class=newsletter-container><button class=newsletter-button onclick=toggleNewsletter()><svg width=24 height=18 viewbox="0 0 24 18" fill=none xmlns=http://www.w3.org/2000/svg><path d="M21.75 1.5H2.25c-.828 0-1.5.672-1.5 1.5v12c0 .828.672 1.5 1.5 1.5h19.5c.828 0 1.5-.672 1.5-1.5V3c0-.828-.672-1.5-1.5-1.5zM15.687 6.975L19.5 10.5M8.313 6.975L4.5 10.5" stroke=#fff stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path><path d="M22.88 2.014l-9.513 6.56C12.965 8.851 12.488 9 12 9s-.965-.149-1.367-.426L1.12 2.014" stroke=#fff stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></svg><span class=newsletter-button-label>Newsletters</span></button></div><div class=comments><form method=POST onsubmit="submitComment(this); return false;" class=commentForm><input type=hidden value=2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin/ name=postUrl><input type=hidden name=postTitle value="Garmin : au-delà de 8000 points, votre trace n'est plus valable"><label>Email: <input autocomplete=off name=email type=email style="width: 100%;" placeholder="Votre email" required></label><label>Nom: <input autocomplete=off name=nom type=text style="width: 100%;" placeholder="Votre nom" required></label><br><label>Message:<br><textarea name=message style="width: 100%;height:10rem" placeholder="Votre commentaire" required></textarea></label><br><div class=messageTypeSection></div><button type=submit>Envoyer</button><br><div class=message></div></form></div></div></article><div id=loadMore next-url=/2021/08/30/bikepacking-sur-la-geobike-ressusciter-une-trace-mythique/ style="display: none;"></div>