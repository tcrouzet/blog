<!DOCTYPE html><html lang=fr><head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0"><style>::before,::after{box-sizing:border-box}html{background-color:#fffbd4;color:black;font-family:Monospace;-webkit-text-size-adjust:100%;tab-size:4;font-size:100%;box-sizing:border-box;text-rendering:optimizeLegibility}body{max-width:90ch;margin:0 auto;padding:0 1rem}button,input,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}button,[type='button'],[type='submit']{appearance:button}:root{--font-size:1.3rem;--line-height:calc(1ex/0.32);--font-size-small:1rem;--font-size-title:calc(var(--font-size)*2.4);--font-size-h3:1.7rem;--top-height:3rem}button,input,select,textarea,label{font-family:var(--font-headings)}h1,h2,h3,h6,nav,header{font-family:monospace;font-weight:bold}h4{font-weight:bold}button,a{cursor:pointer}a,a:visited,a:active,a:hover{color:inherit;text-decoration:none;border:0}footer{margin:2rem 0 4rem 0}header{display:flex;align-items:center;height:var(--top-height);gap:1rem}header>a[aria-label="Accueil"]{font-size:1.35rem}header>a[aria-label="Menu"]{margin-left:auto}main{margin-top:1rem}article header{display:contents}article header figure{width:100%;margin:0;padding:0}article header figure img{width:100%;height:70vh;object-fit:cover}.poster-book{object-fit:contain;object-position:left center}main[itemtype$="CollectionPage"] article img.poster-img-book-small{width:100%;height:auto;aspect-ratio:3/4.5;border:1pt solid}h1{font-size:var(--font-size-title);line-height:1.1;margin:1rem auto}nav{margin:2rem 0;font-weight:normal}nav a.prev{margin-right:.5rem}nav a.next{margin-left:.5rem}p,li{font-size:var(--font-size);line-height:var(--line-height);margin-top:1rem;overflow-wrap:break-word}section[itemprop="articleBody"]>p:first-child::first-letter {font-family:var(--font-headings);font-weight:700;font-size:large}pre{margin:1rem auto 0}ul,ol{margin:0 auto}ul{list-style-type:none;padding-left:2rem;padding-right:1rem}ul li{position:relative;padding-left:1.5em}ul li::before{content:"•";font-size:2rem;position:absolute;left:-.5rem}ol{list-style-type:decimal}li p{margin:0;padding:0}article section a{background:linear-gradient(to bottom,black 95%,black 100%);background-repeat:no-repeat;background-size:100% 1px;background-position:0 calc(100% - 0.1ex)}blockquote{margin:1rem 0;font-style:italic}blockquote p{margin:0 2em;font-style:italic}article section figure{display:block;margin:1.6rem auto;text-align:center;width:100%}article section figure img{border:1px solid #ccc;width:100%;height:auto}figcaption{font-weight:normal;text-align:right;padding-right:0;font-size:.6em}figcaption.legend-center{text-align:right;padding:0}article section h2,article section h3,article section h4{margin:1.6rem auto 0;line-height:var(--line-height)}article section h2,article section h3{font-size:var(--font-size-h3)}article section h4{font-size:smaller}article section h5{text-align:right;font-size:var(--font-size)}article section hr{width:10ch;margin:2rem auto;border:1px solid}article section iframe{padding:1rem 0;display:block;width:100%}code{white-space:pre-wrap;display:block;padding:1rem;border-radius:4px;font-family:'Monaco','Consolas',monospace;font-size:.8em;overflow-x:auto}article footer{margin:1rem 0}main[itemtype$="CollectionPage"]{text-align:center;display:flex;flex-wrap:wrap;justify-content:space-between;margin:var(--top-height) auto 0;max-width:90rem}main[itemtype$="CollectionPage"] nav *{margin:0}main[itemtype$="CollectionPage"] nav{display:flex;align-items:baseline;gap:1.5rem;width:100%;flex-wrap:wrap;margin:0 0 1rem}main[itemtype$="CollectionPage"] article{display:inline-block;position:relative;width:33%;min-width:10rem;min-height:13rem;margin-bottom:1.6rem;cursor:pointer;text-align:left}main[itemtype$="CollectionPage"] article img{object-fit:cover;width:100%;height:10rem;margin:0;background-color:var(--color-light)}main[itemtype$="CollectionPage"] article img.resume-img{height:12rem}main[itemtype$="CollectionPage"] data{font-weight:bold;text-align:center;font-size:1.35rem;position:absolute;top:0;right:0;background-color:black;color:#fffbd4;min-width:2rem}main[itemtype$="CollectionPage"] h2{font-size:small;font-weight:normal;margin:0}main[itemtype$="CollectionPage"] h3{display:inline;font-size:1.2rem}article[itemtype$="Book"]>section[itemprop="articleBody"]>h2:first-of-type{margin:0 auto;font-size:var(--font-size-h3);font-weight:normal}h6{font-size:var(--font-size);margin:.5rem auto 0}.book_genre{color:var(--color-medium);font-variant:small-caps}main[itemtype$="AboutPage"] section h2{margin:2rem 0 .5rem}main[itemtype$="AboutPage"] section h3{font-weight:normal;margin:0}footer section{display:flex;width:100%;margin:2rem auto;gap:1rem;flex-wrap:wrap;align-items:center}footer section button,footer section a,footer section label{display:inline;width:auto;text-align:center;background:transparent;border:0;cursor:pointer}div.comments{display:none;width:100%;margin:0}.com-toggle:checked ~ div.comments{display:block !important}div.comments form{margin-top:1rem}div.comments form input[type="email"],div.comments form input[type="text"]{width:50%;box-sizing:border-box}div.comments form textarea{width:100%;box-sizing:border-box}div.comments form input[type="radio"]{display:inline;margin-right:.5rem}div.comments form button,[type='button'],[type='submit']{display:block;color:#fffbd4;background-color:black}div.comments h5{text-align:left;font-weight:bold;font-family:var(--font-headings)}footer>div:last-of-type{font-family:var(--font-headings);display:flex;justify-content:center;width:100%;margin-bottom:2rem;gap:1rem}footer>div:last-of-type a{display:inline-flex;align-items:center;gap:8px;background-color:#e30613;color:var(--color-contrast);border-radius:30px;padding:10px 18px;font-size:1rem;border:0}.link-background{background:#70f !important}#menu{margin:var(--top-height) 0 0 0;font-family:var(--font-headings)}#menu hr{margin:1.5rem 0;border:1px solid}#menu h1{font-size:var(--font-size);text-transform:uppercase;font-weight:normal;margin:0 0 .5rem 0;padding:0;text-align:left}#menu ul{margin:0;padding:0;max-width:100%}#menu ul li{font-family:var(--font-headings);display:inline-block;margin:0 1rem 0 0;padding:0}#menu ul li::before{content:none}#search{font-family:var(--font-headings);margin-top:var(--top-height);display:flex;flex-direction:column;justify-content:center;align-items:center;height:60vh;text-align:center}#search ul li{display:inline-block;margin:0 1rem 0 0;padding:0}#search ul li::before{content:none}@media(max-width:40ch){:root{--font-size:1rem}label{margin-right:.5em}main[itemtype$="CollectionPage"] nav{gap:.5rem;justify-content:flex-start}}@media(max-width:70ch){article header figure img{height:40vh}h1{font-size:calc(var(--font-size)*2)}main[itemtype$="CollectionPage"] nav h1{padding:0;font-size:1.2rem}#menu div{display:block}#menu ul li{display:block}#menu div a{width:100%;min-height:15vh;margin-bottom:1em}main[itemtype$="CollectionPage"] article{width:100%}main[itemtype$="CollectionPage"] nav{gap:.5rem;font-size:smaller}}@media(min-width:120ch){main[itemtype$="CollectionPage"] article{width:28%}}</style><title>Garmin : au-delà de 8000 points, votre trace n'est plus valable - Thierry Crouzet</title><link rel="shortcut icon" href=/favicon.ico><link rel=alternate type=application/rss+xml title="Thierry Crouzet" href=/feeds/feed.xml><meta name=robots content="index, follow"><meta name=google-site-verification content=EmtKKbIk2-Tz3Nyp7hJRPjcMbgf68Vwq6yJYs1hvsqA><meta name=msvalidate.01 content=805E5BFBA891A41968028F5C97A228D3><meta name=description content="Si comme moi vous roulez des traces créées avec Garmin BaseCamp, l’outil de dessin le plus puissant à notre disposition, bien plus performant que les services …"><meta name=author content="Thierry Crouzet"><link href=https://static.tcrouzet.com/2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin/ rel=canonical><link rel=me href=https://mamot.fr/@tcrouzet><meta name=fediverse:creator content=@tcrouzet@mamot.fr><meta property=og:title content="Garmin : au-delà de 8000 points, votre trace n'est plus valable"><meta property=og:description content="Si comme moi vous roulez des traces créées avec Garmin BaseCamp, l’outil de dessin le plus puissant à notre disposition, bien plus performant que les services …"><meta content=https://static.tcrouzet.com/2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin/ property=og:url><meta property=og:locale content=fr_FR><meta property=og:type content=article><meta property=og:site_name content="Thierry Crouzet"><meta property=article:author content="Thierry Crouzet"><meta property=article:published_time content=2021-10-03T10:43:00+02:00><meta property=article:modified_time content=2024-05-01T09:19:26+02:00><meta property=og:image content=https://static.tcrouzet.com//images_tc/2021/10/map721.jpeg><meta property=og:image:width content=1024><meta property=og:image:height content=768><meta property=og:image:alt content="Le i727"><meta name=twitter:card content=summary_large_image><meta name=twitter:image content=https://static.tcrouzet.com//images_tc/2021/10/map721.jpeg><meta name=twitter:title content="Garmin : au-delà de 8000 points, votre trace n'est plus valable"><meta name=twitter:description content="Si comme moi vous roulez des traces créées avec Garmin BaseCamp, l’outil de dessin le plus puissant à notre disposition, bien plus performant que les services …"></head><body><header><a aria-label=Accueil href=/ title=Accueil>Thierry CROUZET</a><a href=/menu/ aria-label=Menu>Menu</a><a href=/page/abonnement-par-mail/ aria-label=Newsletter>Newsletter</a><a href=/search/ aria-label=Recherche>Recherche</a><a href=/page/me-soutenir/ aria-label=Soutien>€</a></header><main><article itemscope itemtype=https://schema.org/BlogPosting><header><figure><img width=1024 height=768 src=/images_tc/2021/10/map721.webp alt="Le i727" fetchpriority=high decoding=async itemprop=image srcset="/images_tc/2021/10/map721-small.webp 300w,/images_tc/2021/10/map721-small.webp 1024w,/images_tc/2021/10/map721.webp 1024w"><figcaption>Le i727</figcaption></figure><h1 itemprop=headline>Garmin : au-delà de 8000 points, votre trace n'est plus valable</h1><nav><a href=/2021/08/30/bikepacking-sur-la-geobike-ressusciter-une-trace-mythique/ class=prev rel=prev>&lt; </a><a href=/tag/velo itemprop=articleSection>Vélo 97</a> - <a href=/2021/ ><time datetime=2021-10-03T10:43:00 title="Publié à 10:43">03 October 2021</time></a><a href=/2021/10/12/bikepacking-dans-lautomne-flamboyant-du-midi/ class=next rel=next> &gt;</a></nav></header><section itemprop=articleBody><p>Si comme moi vous roulez des traces créées avec <a href=https://www.garmin.com/fr-FR/software/basecamp/ rel="noopener noreferrer">Garmin BaseCamp</a>, l’outil de dessin le plus puissant à notre disposition, bien plus performant que les services en ligne, vous êtes peut-être tombés sur un bug des plus ennuyeux, parce qu’il survient sur le terrain, une fois bien engagé sur la trace.</p><p>J’ai découvert le problème peu de temps <a href=/2020/10/pourquoi-jai-rachete-gps-garmin>après avoir troqué mon Garmin 820 contre un 530</a>. Lors d’une sortie, après une vingtaine de kilomètres, ma trace manquait de précision, des secteurs entiers étaient remplacés par des lignes droites. Une amie qui roulait avec un 1030 avait le même problème, pendant que tout fonctionnait normalement avec les Wahoo.</p><p>J’ai cru à un bug intermittent, puis il s’est répété plusieurs fois, j’ai fini par constater qu’il était fréquent, souvent assez insignifiant pour ne pas trop me déranger. Je ne décide de comprendre cette affaire qu’à la veille de m’engager avec les copains dans une <a href=https://tcrouzet.com/i727>i727</a>.</p><p>Quelques recherches en ligne me font tomber sur une note, <a href="https://support.garmin.com/en-US/?faq=ZWxU2CxR7d4U7adcx1RDJ8" rel="noopener noreferrer">selon laquelle des points peuvent manquer quand on crée une trace routière avec une carte et l’envoie vers un GPS équipé d’une autre carte</a>. Pour le vélo, surtout le VTT, c’est absurde, parce qu’une trace GPX est une liste de coordonnées GPS, sans aucun lien avec la carte. On doit pouvoir rouler partout, même sur l’eau. Reste que mon problème n’est pas isolé, les traces peuvent perdre des points, parfois beaucoup trop de points.</p><h3>Premier bug</h3><figure><img alt="Test de la validité d’une trace" decoding=async height=713 loading=lazy src=/images_tc/2021/10/gbug-1.png srcset="/images_tc/2021/10/gbug-1.png 1024w, /images_tc/2021/10/gbug-1-small.png 300w" width=1024><figcaption class="legend legend-center">Test de la validité d’une trace</figcaption></figure><p>Pour tester si une trace générée par BaseCamp est valide ou non, j’ai initialement pensé avoir découvert une méthode : je l’enregistrais en GPX et tentais de la charger dans <a href=https://connect.garmin.com/modern/import-data rel="noopener noreferrer">Garmin Connect</a>. En cas de refus, je supposais que, si j’envoyais directement sur le GPS cette trace, j’aurai des problèmes. À noter que Garmin Connect peut refuser une trace, mais pas mon 530.</p><p>En revanche, si je publie ma trace sur <a href=https://www.openrunner.com/ rel="noopener noreferrer">OpernRunner</a>, la télécharge, puis la charge sur Garmin Connect, je n’ai aucun problème. De toute évidence OpernRunner corrige quelque chose dans la trace (mais pas <a href=https://www.calculitineraires.fr/ rel="noopener noreferrer">Calculitineraires</a>, <a href=https://www.gpsvisualizer.com/convert_input rel="noopener noreferrer">GPSVisualizer</a>, <a href=https://www.visugpx.com/ rel="noopener noreferrer">VisuGPX</a>, <a href=https://fr-fr.gps-viewer.com/ rel="noopener noreferrer">GPSviewer</a>, <a href=https://www.alltrails.com/fr/converter/ rel="noopener noreferrer">AllTrails</a>, Strava ou UtagawavVTT).</p><p>Pourquoi est-ce que ça marche avec OpenRunner et pas avec la plupart des autres applications ? J’ai dû plonger dans le XML des fichiers GPS pour comprendre. OpenRunner horodate les traces, c’est-à-dire qu’il leur ajoute des temps de passages aux différents points, même s’il n’en existe pas sur la trace originale. Garmin Connect a donc besoin de fichiers horodatés (et, sauf erreur, BaseCamp ne sait pas en produire). Mais voilà qui n’explique pas la disparition des points.</p><h3>Second bug</h3><p>Sur l’i727, j’ai constaté que ma trace, bien que validée par Garmin Connect, continuait à prendre quelques liberté avec mon tracé. Une fois de retour, j’ai chargé plusieurs versions de la trace sur mon 530 et j’ai comparé leur rendu sur le terrain.</p><figure><img alt="Une trace, des rendus variables" decoding=async height=424 loading=lazy src=/images_tc/2021/10/tracesbug.webp srcset="/images_tc/2021/10/tracesbug.webp 1024w, /images_tc/2021/10/tracesbug-small.webp 300w" width=1024><figcaption>Une trace, des rendus variables</figcaption></figure><p>L’image ci-dessus montre le fichier source sur fond IGN tel que visualisé sur BaseCamp, puis son rendu sur le Garmin, dans le premier cas relativement fidèle quand la trace a été récupérée sur OpenRunner, dans le second très approximative quand elle passe par les autres services ou même provient directement de BaseCamp.</p><p>J’ai ouvert les fichiers GPX pour les analyser. Si la source comporte 12 323 points sur BaseCamp, le fichier OpenRunner n’en comporte que 9 325 ! Voilà déjà qui explique pourquoi le tracé OpenRunner est moins précis que l’original. Problème, les autres fichiers comportent davantage de points tout en étant moins précis.</p><p>Et si, au-delà d’un certain nombre de points, les GPS Garmin simplifiaient la trace sans avertir l’utilisateur ? Je suis retourné sur le terrain avec la trace de l’i727 grandement raccourcie, et là, miracle, le rendu était parfait. Le problème n’est donc pas une question d’horodatage, mais d’un nombre de points au-delà duquel le Garmin filtre la trace, un peu au petit bonheur.</p><figure><img alt="Dégradation de la trace" class=small decoding=async height=322 loading=lazy src=/images_tc/2021/10/points-1.webp srcset="/images_tc/2021/10/points-1.webp 745w, /images_tc/2021/10/points-1-small.webp 300w" width=745><figcaption class="legend legend-center">Dégradation de la trace</figcaption></figure><p>L’image ci-dessus montre comment la trace se dégrade quand le nombre de points augmente. D’après mes estimations, sur mon Edge 530, la zone de filtrage survient au-dessus des 8 000 points, même si Garmin Connect accepte des fichiers <a href="https://support.garmin.com/en-US/?faq=EWm0A6dgWu2OTV4bVYXWK6" rel="noopener noreferrer">allant jusqu’à 99 999 points</a>.</p><p>Moralité il faut découper les traces pour que les GPS Garmin les affichent correctement alors que les Wahoo s’en tirent parfaitement dans tous les cas. Si sur route le filtrage cause rarement des problèmes, il devient pénible dans les secteurs VTT avec beaucoup de singles, ce qui entraîne sans cesse des hésitations, surtout en bikepacking. <a href=https://bikepacking.000webhostapp.com/gpx/ rel="noopener noreferrer">Je me suis donc bricolé une petite appli pour découper automatiquement mes traces.</a></p></section><footer><section><input type=checkbox id=com-2181 class=com-toggle hidden><label for=com-2181 title=Commenter>Commenter</label><a href=https://raw.githubusercontent.com/tcrouzet/md/refs/heads/main/2021/10/quand-la-trace-perd-des-points-sur-les-gps-garmin.md download title=Télécharger>Télécharger</a><a href=/page/lectures/ title="Sites amis">Sites amis</a><div class=comments><form method=POST action=https://formspree.io/f/mgebvkwn><input type=hidden value=/2021/10/03/quand-la-trace-perd-des-points-sur-les-gps-garmin/ name=postUrl><input type=hidden name=postTitle value="Garmin : au-delà de 8000 points, votre trace n'est plus valable"><input autocomplete=on name=email type=email placeholder="Votre email" required><input autocomplete=on name=nom type=text placeholder="Votre nom" required><textarea name=message style="width: 100%;height:10rem" placeholder="Votre commentaire" required></textarea><label><input type=radio name=messageType value=private checked> Privé </label><button type=submit>Envoyer</button></form></div></section></footer></article></main><footer> (cc) <a href=/page/informations/ >Thierry Crouzet</a></footer></body></html>