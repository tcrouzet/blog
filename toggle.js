var toggle=document.getElementById('toggle');var access=document.getElementById('access');var accessLoaded=!1;var toggleSearch=document.getElementById('toggle-search');var search=document.getElementById('access-search');var searchLoaded=!1;function toggleMenu(){toggle.classList.toggle("close");access.classList.toggle("shown");if(accessLoaded)return;doAPIcall("GET","/ajax-menu.html",!1,function(data){if(data){access.innerHTML=data}});accessLoaded=!0};function searchMenu(){toggleSearch.classList.toggle("close");search.classList.toggle("shown");if(searchLoaded)return;doAPIcall("GET","/ajax-search.html",2,function(data){if(data){search.innerHTML=data}});searchLoaded=!0};toggle.addEventListener("click",toggleMenu,!1);toggleSearch.addEventListener("click",searchMenu,!1);var firstLoad=!0;var more="";var oktoload=!0;document.addEventListener("DOMContentLoaded",function(){more=document.getElementById("loadMore");if(more){window.addEventListener("scroll",scrollFire)}});function scrollFire(){window.removeEventListener("scroll",scrollFire);var totalPageHeight=document.body.offsetHeight;var currentScrollPosition=document.documentElement.scrollTop;var windowHeight=window.innerHeight;var scrollPoint=currentScrollPosition+windowHeight;if(scrollPoint>=totalPageHeight-500&&oktoload){oktoload=!1;var type=more.getAttribute("data-type");var page=parseInt(more.getAttribute("data-page"),10);var nextpage=page+1;more.setAttribute("data-page",nextpage);var url=more.getAttribute('data-url');if(type=="post"){var urls=url.split(' ');url=urls[page-1]}
if(location.host.endsWith("8888")||window.location.hostname.endsWith("8888")){if(type=="post"){var ajaxurl=url+"?static"}else{var ajaxurl=url+"/"+page+"/?static"}}else{if(type=="post"){var ajaxurl=url+"content.html"}else{var ajaxurl=url+page+".html"}}
doAPIcall("GET",ajaxurl,1,function(data){if(data){if(type=="post"){document.getElementById("content").insertAdjacentHTML('beforeend',data)}else{document.getElementById("infinite").insertAdjacentHTML('beforeend',data)}
oktoload=!0}else{more.style.display="none";more.style.visibility="hidden"}})}
window.addEventListener("scroll",scrollFire)}
function doAPIcall(type,url,flag,callback){var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==XMLHttpRequest.DONE&&xmlhttp.status==200){var data=xmlhttp.responseText;if(callback)callback(data);}else{if(flag==1){more.style.display="none";oktoload=!1}
if(flag==2){var cx="d5dc254fba5984394";var gcse=document.createElement('script');gcse.type='text/javascript';gcse.async=!0;gcse.src='https://cse.google.com/cse.js?cx='+cx;var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse,s);var searchBar=document.querySelector('.gcse-search');if(searchBar){google.search.cse.element.render({gname:'search',div:searchBar,tag:'searchresults-only'})}}}};xmlhttp.open(type,url,!0);xmlhttp.send()}